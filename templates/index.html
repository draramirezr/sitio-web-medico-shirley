{% extends "base.html" %}

{% block title %}Dra. Shirley Ramírez - Ginecóloga y Obstetra en Santo Domingo Este | Ginecología Estética Láser{% endblock %}

{% block description %}Ginecóloga y Obstetra en Santo Domingo Este. Experta en Ginecología Estética Láser: Rejuvenecimiento vaginal, tensado vaginal y labioplastia. Control prenatal, embarazo y salud femenina integral. Agenda tu cita: 829-740-5073{% endblock %}

{% block og_title %}Dra. Shirley Ramírez - Ginecóloga y Obstetra en Santo Domingo Este{% endblock %}
{% block og_description %}Experta en Ginecología Estética Láser: Rejuvenecimiento vaginal, tensado vaginal y labioplastia. Control prenatal, embarazo y salud femenina. ¡Agenda tu cita: 829-740-5073!{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.min.css') }}">

{% if tema == 'mes_patria' %}
<!-- Estilos del borde animado Mes de la Patria -->
<style>
    /* Mantener contenedor con su tamaño original del CSS */
    .hero-image-container {
        position: relative;
    }
    
    /* Borde animado tricolor - se adapta al tamaño de la imagen */
    .borde-tricolor-rotante {
        position: absolute;
        top: -15px;
        left: -15px;
        right: -15px;
        bottom: -15px;
        border-radius: 50%;
        background: conic-gradient(
            #002D62 0deg 120deg,
            white 120deg 180deg,
            #CE1126 180deg 300deg,
            white 300deg 360deg
        );
        z-index: 1;
        animation: rotar-bandera 8s linear infinite;
        pointer-events: none;
    }
    
    @keyframes rotar-bandera {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    /* Máscara interna para crear el efecto de borde */
    .borde-tricolor-rotante::after {
        content: '';
        position: absolute;
        top: 10px;
        left: 10px;
        right: 10px;
        bottom: 10px;
        background: transparent;
        border-radius: 50%;
        z-index: 2;
    }
    
    /* Asegurar que la imagen esté encima del borde */
    .hero-image-container picture,
    .hero-image-container img {
        position: relative;
        z-index: 3;
    }
    
    /* Responsive para móviles y tablets */
    @media (max-width: 768px) {
        .borde-tricolor-rotante {
            top: -12px;
            left: -12px;
            right: -12px;
            bottom: -12px;
        }
        
        .borde-tricolor-rotante::after {
            top: 8px;
            left: 8px;
            right: 8px;
            bottom: 8px;
        }
    }
    
    @media (max-width: 480px) {
        .borde-tricolor-rotante {
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
        }
        
        .borde-tricolor-rotante::after {
            top: 6px;
            left: 6px;
            right: 6px;
            bottom: 6px;
        }
    }
</style>
{% endif %}

<!-- ========== HERO FULLSCREEN ========== -->
<section class="hero-fullscreen">
    <!-- Burbujas decorativas -->
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    
    <!-- Imagen de la Dra. Shirley - WebP con fallback -->
    <div class="hero-image-container">
        {% if tema == 'mes_patria' %}
        <!-- Borde animado tricolor para Mes de la Patria -->
        <div class="borde-tricolor-rotante"></div>
        {% endif %}
        
        <picture>
            <source srcset="{{ url_for('static', filename='images/97472.webp') }}" type="image/webp">
            <img src="{{ url_for('static', filename='images/97472.jpg') }}" 
                 alt="Dra. Shirley Ramírez - Ginecóloga y Obstetra en Santo Domingo"
                 width="450" 
                 height="450"
                 loading="eager"
                 decoding="async"
                 fetchpriority="high">
        </picture>
    </div>
    
    <div class="hero-content-center">
        <h1 class="hero-main-title">
            Dra. Shirley Ramírez<br>
            <span class="hero-gradient-text">Cuidado Integral de la Salud Femenina</span>
        </h1>
        
        <p class="hero-tagline">
            Ginecóloga y Obstetra | Gineco-Estética
        </p>
    </div>
    
    <div class="scroll-indicator" onclick="document.querySelector('#servicios').scrollIntoView({behavior: 'smooth'})">
        <i class="fas fa-chevron-down fa-2x" style="color: var(--primary-color);"></i>
    </div>
</section>

<!-- ========== SOBRE MÍ ========== -->
<section class="section-modern section-alt">
    <div class="container">
        <div class="banner-featured fade-in-up">
            <div class="banner-content text-center">
                <h2 class="banner-title mb-4">
                    Experiencia y Dedicación
                </h2>
                <p class="banner-text mb-3">
                    <strong>Dra. Shirley Ramírez Montero</strong>, especialista en Ginecología y Obstetricia 
                    con formación avanzada en medicina reproductiva y ginecología estética funcional.
                </p>
                <p class="banner-text mb-4" style="font-size: 1rem;">
                    Atención personalizada con empatía y profesionalismo, acompañándote en cada etapa de tu vida.
                </p>
                
                <div class="text-center mt-4">
                    <a href="{{ url_for('about') }}" class="btn btn-outline-primary px-5">
                        Conocer Mi Trayectoria
                        <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ========== SERVICIOS ========== -->
<section id="servicios" class="section-specialties">
    <div class="container">
        <div class="section-header fade-in-up">
            <h2 class="section-title">Especialidades Médicas</h2>
            <p class="section-subtitle">
                Atención integral en todas las áreas de la salud femenina
            </p>
        </div>
        
        <div class="row g-4 justify-content-center">
            {% for service in services %}
            {% if service['name'] in ['Consulta Ginecológica', 'Consulta Obstétrica', 'Planificación Familiar'] %}
            <div class="col-lg-4 col-md-6 fade-in-up" style="animation-delay: {{ loop.index * 0.15 }}s;">
                <div class="card-premium">
                    <div class="card-icon-large">
                        <i class="{{ service['icon'] or 'fas fa-stethoscope' }}"></i>
                    </div>
                    <h3 class="mb-3" style="color: var(--title-color); font-weight: 700; font-size: 1.3rem;">
                        {{ service['name'] }}
                    </h3>
                    <p class="text-muted" style="line-height: 1.7;">
                        {{ service['description'][:100] }}{% if service['description']|length > 100 %}...{% endif %}
                    </p>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        
        <div class="text-center mt-5 fade-in-up">
            <a href="{{ url_for('services') }}" class="btn btn-outline-primary px-5">
                Ver Todos los Servicios
                <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>

<!-- ========== TRATAMIENTOS ESTÉTICOS BANNER ========== -->
<section class="section-aesthetics">
    <div class="container">
        <div class="banner-featured fade-in-up">
            <div class="banner-content">
                <div class="row align-items-center">
                    <div class="col-lg-7 mb-4 mb-lg-0">
                        <h2 class="banner-title">
                            Tratamientos Estéticos Ginecológicos
                        </h2>
                        <p class="banner-text">
                            Tecnología láser de vanguardia para tu bienestar íntimo. 
                            13 tratamientos especializados con resultados comprobados.
                        </p>
                        <ul class="banner-list">
                            <li>
                                <i class="fas fa-check-circle"></i> 
                                <span>Procedimientos mínimamente invasivos</span>
                            </li>
                            <li>
                                <i class="fas fa-check-circle"></i> 
                                <span>Resultados naturales y duraderos</span>
                            </li>
                            <li>
                                <i class="fas fa-check-circle"></i> 
                                <span>Recuperación rápida</span>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-5 banner-icon-container">
                        <i class="fas fa-spa banner-icon-large"></i>
                    </div>
                </div>
                <div class="text-center mt-4 fade-in-up">
                    <a href="{{ url_for('aesthetic_treatments') }}" class="btn btn-outline-primary px-5">
                        Explorar Tratamientos
                        <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ========== TESTIMONIOS ========== -->
{% if testimonials %}
<section class="section-modern section-alt">
    <div class="container">
        <div class="section-header fade-in-up">
            <h2 class="section-title">Lo Que Dicen Mis Pacientes</h2>
            <p class="section-subtitle">
                Tu confianza es mi mayor motivación
            </p>
        </div>
        
        <div class="row g-4">
            {% for testimonial in testimonials %}
            <div class="col-lg-4 fade-in-up" style="animation-delay: {{ loop.index * 0.15 }}s;">
                <div class="testimonial-card">
                    <!-- Header con avatar y nombre estilo Google -->
                    <div class="d-flex align-items-center mb-3">
                        <div class="testimonial-avatar" style="background: linear-gradient(135deg, #CEB0B7 0%, #B89BA3 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.3rem; margin-right: 1rem; flex-shrink: 0;">
                            {{ testimonial.patient_name[0] }}
                        </div>
                        <div class="flex-grow-1">
                            <div class="d-flex align-items-center justify-content-between">
                                <strong style="color: #2c3e50; font-size: 1.1rem;">{{ testimonial.patient_name }}</strong>
                                <i class="fab fa-google" style="color: #4285F4; font-size: 1.3rem; margin-left: 0.5rem;" title="Reseña de Google"></i>
                            </div>
                            <div class="d-flex align-items-center gap-2 mt-1">
                                <div class="testimonial-rating" style="font-size: 0.9rem;">
                                    {% for i in range(testimonial.rating or 5) %}
                                    <i class="fas fa-star text-warning"></i>
                                    {% endfor %}
                                </div>
                                <small class="text-muted" style="font-size: 0.85rem;">
                                    {{ testimonial.time_ago }}
                                </small>
                            </div>
                        </div>
                    </div>
                    <p class="testimonial-text">{{ testimonial.testimonial_text }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5 fade-in-up">
            <a href="{{ url_for('testimonials') }}" class="btn btn-outline-primary px-5">
                Ver Más Testimonios
                <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- ========== CTA FINAL ========== -->
<section class="section-modern" style="position: relative; overflow: hidden;">
    <!-- Burbujas decorativas -->
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    
    <div class="container" style="position: relative; z-index: 10;">
        <div class="banner-featured fade-in-up text-center">
            <div class="banner-content">
                <h2 class="banner-title mb-4">
                    ¿Lista para cuidar tu salud?
                </h2>
                <p class="banner-text mb-5">
                    Agenda tu cita hoy y comienza a recibir la atención profesional que mereces
                </p>
                <div class="text-center">
                    <a href="{{ url_for('request_appointment') }}" class="btn-banner">
                        <i class="fas fa-calendar-plus"></i>
                        Solicitar Cita
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- JavaScript para animaciones -->
<script>
    // Observer para animaciones de scroll con configuración mejorada
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('active');
            }
        });
    }, {
        threshold: 0.15,
        rootMargin: '0px 0px -80px 0px'
    });
    
    // Observar todos los elementos con animación
    document.querySelectorAll('.fade-in-up, .fade-in-left, .fade-in-right').forEach(el => {
        observer.observe(el);
    });
    
    // Efecto parallax suave en scroll - OPTIMIZADO
    let ticking = false;
    window.addEventListener('scroll', () => {
        if (!ticking) {
            window.requestAnimationFrame(() => {
                const scrolled = window.pageYOffset;
                const parallaxElements = document.querySelectorAll('.hero-image-container, .bubble');
                
                parallaxElements.forEach(el => {
                    const speed = el.classList.contains('bubble') ? 0.3 : 0.15;
                    el.style.transform = `translate3d(0, ${scrolled * speed}px, 0)`;
                });
                
                ticking = false;
            });
            ticking = true;
        }
    }, { passive: true });
</script>
{% endblock %}
